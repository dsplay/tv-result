<form [formGroup]="form" (ngSubmit)="submitForm()">

  <div [class]="classForm">


    <!-- Estratégias para exibição de links para navegação (tela del ogin) -->
    <ng-container *ngIf="isRegisterNavigationVisible">
      <a [routerLink]="['/auth/login']">Já possuo conta, fazer login</a>
      <br>
    </ng-container>

    <!-- Customização de título e descrição do bloco do formulário -->
    <span class="body-text" [innerHTML]="title" *ngIf="title"></span>
    <p *ngIf="description" [innerHTML]="description"></p>

    <!-- Campos de usuário baseados nos protótipos e modelo de tabela em banco -->
    <!--

      @description Form "genérico" para usuário.
      Basta informar um FormGroup com os campos de usuário que deseja exibir,
      título e descrição se houver.
      (E os tipos de utilização do formulário pré-definidos)
      @example
      <app-user-form [form]="meuForm" button="Enviar" title="Formulário de registro" [isRegisterForm]="isRegisterForm"></app-user-form>

    -->
    <div class="row">
      <div class="col">
        <div class="container">
          <div class="row" *ngIf="firstName">
            <label for="first_name">Nome</label>
            <input class="form-control" formControlName="first_name" name="first_name" id="first_name" type="text"
              placeholder="Digite aqui">
          </div>
          <div class="row" *ngIf="lastName">
            <label for="last_name">Sobrenome</label>
            <input class="form-control" formControlName="last_name" name="last_name" id="last_name" type="text"
              placeholder="Digite aqui">
          </div>
          <div class="row" *ngIf="email">
            <label for="email">E-mail</label>
            <input class="form-control" formControlName="email" name="email" type="email" id="email" #inputEmail placeholder="Digite aqui">
          </div>
          <div class="row" *ngIf="birthday">
            <label for="birthday">Data de Nascimento</label>
            <input class="form-control" formControlName="birthday" id="birthday" name="birthday" type="date">
          </div>
          <br>
          <div class="row" *ngIf="currentPassword">
            <label for="Senha">Senha atual</label>
            <input class="form-control" formControlName="current_password" id="current_password" type="password" placeholder="Digite aqui">
            <p class="error" *ngIf="currentPassword && currentPassword.errors && currentPassword.errors.confirm === false">
              Senhas digitadas não são iguais.
            </p>
          </div>
          <div class="row" *ngIf="password">
            <label for="Senha">Senha</label>
            <input class="form-control" formControlName="password" id="senha" type="password" placeholder="Digite aqui">
            <p class="error" *ngIf="password && password.errors && password.errors.confirm === false">
              Senhas digitadas não são iguais.
            </p>
          </div>
          <div class="row" *ngIf="passwordConfirm">
            <label for="password_confirm">Repetir Senha</label>
            <input class="form-control" formControlName="password_confirm" id="password_confirm"
              (blur)="confirmPasswords()" type="password" placeholder="Digite aqui">
            <p class="error"
              *ngIf="passwordConfirm && passwordConfirm.errors && passwordConfirm.errors.confirm === false">
              Senhas digitadas não são iguais.
            </p>
          </div>
          <div class="row" *ngIf="passwordConfirm && passwordDetail">
            <p>A senha deve conter no mínimo 6 caracteres, incluindo:</p>
            <ul class="ul-info">
              <li>Um número;</li>
              <li>Uma letra maiúscula;</li>
              <li>Um caractere especial;</li>
              <li>Exemplo: <strong>Adb12&Hjq0</strong></li>
            </ul>
          </div>
          <!-- FORMULÁRIO DE PROFILE -->
          <div class="row profile-submit" *ngIf="isProfileForm">
            <button type="submit" class="green-button profile-submit-button" [disabled]="form.invalid" [innerHTML]="button">
              </button>
          </div>
        </div>

        <br *ngIf="!description">
      </div>
    </div>

    <!-- Estratégia para exibição de botões -->

    <!-- FORMULÁRIO DE REDEFINIÇÃO DE SENHA -->
    <ng-container *ngIf="isPasswordForm">

      <div class="row" *ngIf="button">
        <div class="col center-text">
          <button type="button" class="green-button cancel" (click)="cancelForm()">
            Cancelar
          </button>
        </div>
        <div class="col center-text">
          <button type="submit" class="green-button" [disabled]="form.invalid" [innerHTML]="button">
          </button>
        </div>
      </div>

    </ng-container>

    <!-- FORMULÁRIO DE LOGIN -->
    <ng-container *ngIf="isLoginForm">
      <div class="row" *ngIf="button">
        <div class="col center-text">
          <button type="submit" class="green-button" [disabled]="form.invalid" [innerHTML]="button">
          </button>
        </div>
      </div>
      <div class="row">
        <div class="col center-text">
          <br>
          <a [routerLink]="['/auth/password']">Esqueci a senha</a>
        </div>
        <div class="col center-text">
          <br>
          <a [routerLink]="['/auth/register']">Registrar-se</a>
        </div>
      </div>
    </ng-container>

    <!-- FORMULÁRIO DE REGISTRO -->
    <ng-container *ngIf="isRegisterForm">
      <div class="row" *ngIf="button">
        <div class="col center-text">
          <button type="submit" class="green-button" [disabled]="form.invalid" [innerHTML]="button">
          </button>
        </div>
      </div>
    </ng-container>

  </div>
</form>



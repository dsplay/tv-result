<app-header>
  <div class="col">
    <app-wallet-header></app-wallet-header>
  </div>
  <div class="col">
    <app-user-header></app-user-header>
  </div>
</app-header>

<div class="container-fluid">
  <div class="row no-gutters">
    <div class="col-12 col-lg-9 d-flex">
      <div class="container-pre-ticket">
        <div class="title-pre-ticket">

          <label class="title-text click-link" (click)="getToBack()">
            <label class="back-to-list click-link" (click)="getToBack()">
              <svg class="back-button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path
                  d="M178.5,140.25v-102L0,216.75l178.5,178.5V290.7c127.5,0,216.75,40.8,280.5,130.05C433.5,293.25,357,165.75,178.5,140.25z"
                  fill="#ffffff" />
              </svg>&nbsp;&nbsp;
              Voltar para a lista
            </label>
            <i class="fas fa-ticket-alt"></i>
            <label class="text-pre">
              Pré-ticket
            </label>
          </label>
        </div>

        <div class="center-pre-ticket d-flex">
          <div class="col-md-2"></div>
          <div class="div-qr-code col-12 col-md-4 ">

            <label class="img-label" *ngIf="codeQr">
              <qrcode [qrdata]="codeQr" [width]="158" [errorCorrectionLevel]="'M'"></qrcode>
            </label>

            <label class="qr-number">
              {{ codeQr }}
            </label>
          </div>
          <div class="right-pre-ticket col-12 col-md-6 ">
            <p>
              &nbsp;&bull; Esté é o QR code da sua aposta.
            </p>
            <hr>
            <p>
              &nbsp;&bull; As taxas estão sujeitas a alteração <br>
              até o momento da validação desta aposta.
            </p>
            <hr>
            <p>
              &nbsp;&bull; No momento da validação, alguns jogos <br>
              poderão não estar mais disponíveis, invalidando a aposta automaticamente.
            </p>
            <p>

              <share-button theme="material-dark" [button]="'telegram'" [size]="3" [autoSetMeta]="false"
                [description]="shareContent"></share-button>

              <button class="whats-button">
                <a href="https://api.whatsapp.com/send?text= {{ shareContent }}
                    "> <i class="fab fa-whatsapp"></i>
                </a>
              </button>

            </p>

          </div>
        </div>

        <div class="games-bets-check">
          <label class="title-bets-game">
            Jogos apostados:
          </label>
          <div class="container-list-games">
            <table class="games-table table-separate">
              <tbody>
                <tr class="game spaceUnder" *ngFor="let game of games">
                  <td class="click-link">
                    <span class=" game-date">
                      {{ getTournamentName(game.id) }} - {{ game.visibleDate }}

                    </span>
                    <span class="box-name-team teams"> {{ game.homeTeam }} x {{ game.awayTeam }} </span>
                  </td>

                  <td class="rate-name">
                    {{ game.rateName }}

                  </td>
                  <td class="rate">
                    <span class="rate-span">
                      {{ getFormat(game.rateValue) }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>

          </div>

        </div>

      </div>
    </div>
    <div class="col-12 col-lg-3">
      <div class="container-pre-values">
        <div class="title-information">
          <label class="span-information">
            DADOS DA SUA APOSTA
          </label>
        </div>

        <div class="content-information-bet col-12 row" *ngIf="pendingItem">
          <div class="col-4 col-md-4 div-games text-center border-div">
            <label class="span-games">
              Jogos
            </label>
            <label class="games-quantify">
              {{ pendingItem.pendingBetItems.length }}
            </label>
          </div>
          <div class="col-4 col-md-4 div-value text-center border-div">
            <label class="span-values-name">
              Valor
            </label>
            <label class="span-value">
              R$ {{ pendingItem.betValue  | number:'.2-2' }}
            </label>
          </div>
          <div class="col-4 col-md-4 div-award text-center">
            <label class="span-award">
              Potencial
            </label>
            <label class="value-award">
              R$ {{ pendingItem.betReturn | number:'.2-2' }}
            </label>
          </div>

        </div>

        <div class="content-functions col-12">
          <div class="buttons-div">
            <button class="flat-green-button" (click)="payBet()" *ngIf="isAuth">
              Pagar aposta
            </button>
            <button class="button-impress">
              Imprimir pré-ticket
            </button>
          </div>

        </div>

      </div>
    </div>
  </div>
